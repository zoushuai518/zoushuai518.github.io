

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

    <title>SSH原理与运用</title>
    <meta name="description" content="">

    <link href="/assets/themes/p233/css/pygments.css" rel="stylesheet">
    <link href="/assets/themes/p233/css/style.css" rel="stylesheet">

    <!-- atom & rss feed || zs fuck! -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="/index.html" id="avatar"></a>

		<!-- 分类 -->
		<ul id="tags__ul">
	<li id="js-label1" class="tags__li tags-btn active">全部文章</li>
	
	<li id="js-label2" class="tags__li tags-btn">jekyll (7)</li>
	
	<li id="js-label3" class="tags__li tags-btn">php (71)</li>
	
	<li id="js-label4" class="tags__li tags-btn">tool (11)</li>
	
	<li id="js-label5" class="tags__li tags-btn">python (1)</li>
	
	<li id="js-label6" class="tags__li tags-btn">ruby (1)</li>
	
	<li id="js-label7" class="tags__li tags-btn">linux (9)</li>
	
	<li id="js-label8" class="tags__li tags-btn">asset (3)</li>
	
	<li id="js-label9" class="tags__li tags-btn">standard (1)</li>
	
	<li id="js-label10" class="tags__li tags-btn">agreement (3)</li>
	
	<li id="js-label11" class="tags__li tags-btn">mysql (5)</li>
	
	<li id="js-label12" class="tags__li tags-btn">mongodb (2)</li>
	
</ul>


        <div id="tags__bottom">
          <a href="mailto:zoushuai518@gmail.com" id="icon-email" class="tags-btn fontello"></a>
          <a href="/rss.xml" id="icon-feed" class="tags-btn fontello"></a>
        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <form action="" id="search-form">
          <a href="/index.html" id="mobile-avatar"></a>
          <!-- NOTE: input field is disabled by default -->
          <input id="search-input" type="text" placeholder="Search..." disabled >
        </form>

        <nav id="pl__container">
        
          <a class="php pl__all" href="/php/2014/10/25/%E5%A4%9A%E8%BF%9B%E7%A8%8B_%E7%BA%BF%E7%A8%8B%E7%9A%84SAPI%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="pl__circle"></span><span class="pl__title">多进程/线程的SAPI生命周期</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/25/%E5%8D%95%E8%BF%9B%E7%A8%8BSAPI%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="pl__circle"></span><span class="pl__title">单进程SAPI生命周期</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/24/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3php%E5%8E%9F%E7%90%86"><span class="pl__circle"></span><span class="pl__title">深入理解php原理</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/24/php_soap"><span class="pl__circle"></span><span class="pl__title">php使用soap调用WebService</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/24/mysql%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B"><span class="pl__circle"></span><span class="pl__title">mysql字段类型</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/24/ssh"><span class="pl__circle"></span><span class="pl__title">SSH原理与运用</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/23/ssh%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95"><span class="pl__circle"></span><span class="pl__title">ssh免密码登录</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/23/UML"><span class="pl__circle"></span><span class="pl__title">UML</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/23/php%E7%A7%BB%E4%BD%8D"><span class="pl__circle"></span><span class="pl__title">php移位</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mysql pl__all" href="/mysql/2014/10/23/mysql%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="pl__circle"></span><span class="pl__title">mysql开启远程连接</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mysql pl__all" href="/mysql/2014/10/23/E-R%E6%A8%A1%E5%9E%8B"><span class="pl__circle"></span><span class="pl__title">E-R模型</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E5%8E%9F%E7%A0%81-%E5%8F%8D%E7%A0%81-%E8%A1%A5%E7%A0%81"><span class="pl__circle"></span><span class="pl__title">计算机中的原码、反码和补码 </span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/21/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%A0%81-%E5%8F%8D%E7%A0%81-%E8%A1%A5%E7%A0%81"><span class="pl__circle"></span><span class="pl__title">为什么要使用原码、反码、补码</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/17/php_ORM"><span class="pl__circle"></span><span class="pl__title">php ORM框架&简单实现</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/17/php_MVC_ORM_CURD_AR"><span class="pl__circle"></span><span class="pl__title">单一入口、MVC、ORM、CURD、ActiveRecord概念</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/17/php_ActiveRecord"><span class="pl__circle"></span><span class="pl__title">php ActiveRecord</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/17/OO%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B9%8BDRY"><span class="pl__circle"></span><span class="pl__title">OO设计原则之DRY</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php%E6%B5%81(stream)"><span class="pl__circle"></span><span class="pl__title">PHP流(stream)</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_SAPI"><span class="pl__circle"></span><span class="pl__title">php & SAPI</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mysql pl__all" href="/mysql/2014/10/16/sql%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB"><span class="pl__circle"></span><span class="pl__title">SQL语言分类</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/%E5%BC%80%E6%BA%90%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0SQLRelay"><span class="pl__circle"></span><span class="pl__title">开源的数据库连接池 SQL Relay</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php%E7%9A%84SAPI-CLI_SAPI-CGI_SAPI"><span class="pl__circle"></span><span class="pl__title">php的SAPI CLI SAPI、CGI SAPI</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php%E4%BD%BF%E7%94%A8mysql%E9%94%81"><span class="pl__circle"></span><span class="pl__title">PHP使用mysql锁</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_pthreads"><span class="pl__circle"></span><span class="pl__title">php pthreads</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_pcntl"><span class="pl__circle"></span><span class="pl__title">php pcntl</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_opcode"><span class="pl__circle"></span><span class="pl__title">php opcode</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_gearman"><span class="pl__circle"></span><span class="pl__title">gearman php</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/php_apc"><span class="pl__circle"></span><span class="pl__title">php apc</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/16/PHP%E7%9A%84ISAPI%E5%92%8CFastCGI%E6%AF%94%E8%BE%83"><span class="pl__circle"></span><span class="pl__title">PHP的ISAPI和FastCGI比较</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mysql pl__all" href="/mysql/2014/10/16/mysql%E4%B9%90%E8%A7%82%E9%94%81%E5%92%8C%E6%82%B2%E8%A7%82%E9%94%81"><span class="pl__circle"></span><span class="pl__title">mysql乐观锁和悲观锁</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/15/git-flow%E4%BD%BF%E7%94%A8%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B"><span class="pl__circle"></span><span class="pl__title">git flow完整使用流程</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/14/gitlab"><span class="pl__circle"></span><span class="pl__title">gitlab</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/14/git-flow-%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3"><span class="pl__circle"></span><span class="pl__title">git-flow使用详解</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/14/git-flow"><span class="pl__circle"></span><span class="pl__title">git flow</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/14/PHP%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%9A%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="pl__circle"></span><span class="pl__title">PHP读取文件多种方法</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/12/%E5%9F%BA%E4%BA%8E%E5%8E%9F%E7%94%9FPHP%E4%BA%A4%E5%8F%89%E4%BC%9A%E5%91%98%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="pl__circle"></span><span class="pl__title">基于原生PHP交叉会员权限控制</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/12/php%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81"><span class="pl__circle"></span><span class="pl__title">个性化自己的二维码</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/12/RBAC"><span class="pl__circle"></span><span class="pl__title">RBAC 权限</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/10/12/%E7%AE%A1%E7%90%86%E5%91%98%E5%BF%85%E5%A4%87%E7%9A%8420%E4%B8%AALinux%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7"><span class="pl__circle"></span><span class="pl__title">管理员必备的20个Linux系统监控工具</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/10/11/zabbix"><span class="pl__circle"></span><span class="pl__title">基于WEB界面的分布式系统监视程序</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/10/php_REST"><span class="pl__circle"></span><span class="pl__title">PHP REST</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/10/PHP%E7%9A%84PSR%E8%A7%84%E8%8C%83"><span class="pl__circle"></span><span class="pl__title">PHP的PSR规范中文版</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/10/Xss%E6%94%BB%E5%87%BB"><span class="pl__circle"></span><span class="pl__title">Xss攻击</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/10/PHP%E9%98%B2%E6%AD%A2SQL%E6%B3%A8%E5%85%A5%E7%9A%84%E6%96%B9%E6%B3%95"><span class="pl__circle"></span><span class="pl__title">PHP防止SQL注入的方法</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="agreement pl__all" href="/agreement/2014/10/09/http2"><span class="pl__circle"></span><span class="pl__title">http2协议</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/08/php%E8%8E%B7%E5%8F%96%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9C%9F%E5%AE%9EIP"><span class="pl__circle"></span><span class="pl__title">php获取客户端真实IP</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/10/08/php-%E6%A1%86%E6%9E%B6"><span class="pl__circle"></span><span class="pl__title">php 框架</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/10/07/%E9%85%8D%E7%BD%AEGit%E5%92%8CSSH%E5%AF%86%E9%92%A5%E8%BF%9E%E6%8E%A5Github"><span class="pl__circle"></span><span class="pl__title">配置 Git 和 SSH 密钥连接 Github</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/10/07/Linux%E4%B8%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%91%BD%E5%90%8D"><span class="pl__circle"></span><span class="pl__title">Linux下硬盘分区命名</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/10/01/nginx_config"><span class="pl__circle"></span><span class="pl__title">nginx配置详解</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mongodb pl__all" href="/mongodb/2014/10/01/NoSql"><span class="pl__circle"></span><span class="pl__title">NoSQL init</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="mongodb pl__all" href="/mongodb/2014/10/01/MongoDB"><span class="pl__circle"></span><span class="pl__title">MongoDB init</span><span class="pl__date">Oct 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/30/%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3"><span class="pl__circle"></span><span class="pl__title">php 抽象类和接口</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/09/30/vim"><span class="pl__circle"></span><span class="pl__title">vim ide</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/%E5%8A%A0%E9%80%9FPHP%E7%9A%84ECHO"><span class="pl__circle"></span><span class="pl__title">加速PHP的ECHO</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="pl__circle"></span><span class="pl__title">php正则表达式</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-%E4%BB%8EYii2%E7%9A%84Request%E7%9C%8B%E5%85%B6CSRF%E9%98%B2%E8%8C%83%E7%AD%96%E7%95%A5"><span class="pl__circle"></span><span class="pl__title">从Yii2的Request看其CSRF防范策略</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-strlen-mb_strlen"><span class="pl__circle"></span><span class="pl__title">php strlen和mb_strlen的区别</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-fastcgi_finish_request"><span class="pl__circle"></span><span class="pl__title">fastcgi_finish_request</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-CSRF%E6%94%BB%E5%87%BB"><span class="pl__circle"></span><span class="pl__title">CSRF攻击</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-Builder"><span class="pl__circle"></span><span class="pl__title">建造者模式</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-get_http_header_msg"><span class="pl__circle"></span><span class="pl__title">php 获取http header信息</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/29/php-file_get_contents"><span class="pl__circle"></span><span class="pl__title">php file_get_contents抓取网页</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/09/28/Docker"><span class="pl__circle"></span><span class="pl__title">Docker</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/26/php%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="pl__circle"></span><span class="pl__title">PHP输入输出流</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/26/php-session%E5%85%B1%E4%BA%AB"><span class="pl__circle"></span><span class="pl__title">PHP session共享</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/26/php-session_cookie"><span class="pl__circle"></span><span class="pl__title">PHP session cookie</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/25/php-factory"><span class="pl__circle"></span><span class="pl__title">PHP设计模式之工厂模式(Factory Pattern)</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/24/php-singleton"><span class="pl__circle"></span><span class="pl__title">PHP设计模式之单例模式与静态变量</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="asset pl__all" href="/asset/2014/09/19/nodejs"><span class="pl__circle"></span><span class="pl__title">nodejs</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php%E5%8A%A8%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%8C%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%EF%BC%8C%E5%A0%86%E5%92%8C%E6%A0%88%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="pl__circle"></span><span class="pl__title">动态变量，静态变量，堆和栈的区别</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E7%B1%BB%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="pl__circle"></span><span class="pl__title">PHP 类型约束</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E5%8F%8D%E5%B0%84"><span class="pl__circle"></span><span class="pl__title">php 反射</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-spl"><span class="pl__circle"></span><span class="pl__title">php spl</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-oop"><span class="pl__circle"></span><span class="pl__title">PHP OOP</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-instanceof%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="pl__circle"></span><span class="pl__title">PHP instanceof运算符</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-AOP"><span class="pl__circle"></span><span class="pl__title">php AOP</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="pl__circle"></span><span class="pl__title">php生命周期</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3DIP%E3%80%81IoC%E3%80%81DI%E4%BB%A5%E5%8F%8AIoC%E5%AE%B9%E5%99%A8"><span class="pl__circle"></span><span class="pl__title">深入理解DIP、IoC、DI以及IoC容器</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E9%9D%A2%E8%AF%95"><span class="pl__circle"></span><span class="pl__title">php 面试题</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="pl__circle"></span><span class="pl__title">php 设计模式</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/18/php-technology-site"><span class="pl__circle"></span><span class="pl__title">php 的那些事儿</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="agreement pl__all" href="/agreement/2014/09/18/http"><span class="pl__circle"></span><span class="pl__title">http协议</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="mysql pl__all" href="/mysql/2014/09/18/gaoxiao-sql"><span class="pl__circle"></span><span class="pl__title">编写高效的SQL</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/17/php-DI_IoC"><span class="pl__circle"></span><span class="pl__title">php 依赖注入(DI) & 控制反转(IoC)</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/09/17/shell"><span class="pl__circle"></span><span class="pl__title">Linux shell</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/09/17/nginx-https-config"><span class="pl__circle"></span><span class="pl__title">nginx https配置</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="agreement pl__all" href="/agreement/2014/09/17/https"><span class="pl__circle"></span><span class="pl__title">https协议</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="standard pl__all" href="/standard/2014/09/17/Rest_API"><span class="pl__circle"></span><span class="pl__title">Rest API标准</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/16/php-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="pl__circle"></span><span class="pl__title">php 垃圾回收机制</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/16/laravel"><span class="pl__circle"></span><span class="pl__title">golaravel</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="asset pl__all" href="/asset/2014/09/16/front-list"><span class="pl__circle"></span><span class="pl__title">前端技术</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/16/create-composer_packagist"><span class="pl__circle"></span><span class="pl__title">创建一个自己的 Composer/Packagist包</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="asset pl__all" href="/asset/2014/09/16/PJAX"><span class="pl__circle"></span><span class="pl__title">PJAX</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/16/jekyll-3-theme"><span class="pl__circle"></span><span class="pl__title">jekyll dazzle theme</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/09/12/find"><span class="pl__circle"></span><span class="pl__title">Linux命令之find</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="linux pl__all" href="/linux/2014/09/12/crontab"><span class="pl__circle"></span><span class="pl__title">Linux命令之crontab</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="ruby pl__all" href="/ruby/2014/09/12/ruby-init"><span class="pl__circle"></span><span class="pl__title">ruby</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="python pl__all" href="/python/2014/09/12/python-init"><span class="pl__circle"></span><span class="pl__title">python</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/php%E5%B9%B6%E5%8F%91%E5%86%99%E6%96%87%E4%BB%B6_%E6%96%87%E4%BB%B6%E9%94%81"><span class="pl__circle"></span><span class="pl__title">php 并发写文件|文件锁</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/phpdoc"><span class="pl__circle"></span><span class="pl__title">phpdoc|phpDocumentor</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/php_pear_pecl"><span class="pl__circle"></span><span class="pl__title">php pear|pecl</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/php-composer"><span class="pl__circle"></span><span class="pl__title">php composer</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/memory_get_usage"><span class="pl__circle"></span><span class="pl__title">获得PHP代码占用内存的情况</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/12/jekyll-%E4%B8%AD%E7%9A%84%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE"><span class="pl__circle"></span><span class="pl__title">jekyll中的语法高亮</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="tool pl__all" href="/tool/2014/09/12/git%E4%BB%8B%E7%BB%8D"><span class="pl__circle"></span><span class="pl__title">Git分布式版本管理工具</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/PHP%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E5%88%86%E9%85%8D"><span class="pl__circle"></span><span class="pl__title">PHP对象类型在内存中的分配</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/12/%E5%85%B3%E4%BA%8EJekyll"><span class="pl__circle"></span><span class="pl__title">关于Jekyll</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/12/jekyll-%E6%A8%A1%E6%9D%BF%E4%BD%BF%E7%94%A8"><span class="pl__circle"></span><span class="pl__title">Jekyll模板使用</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/12/jekyll-%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="pl__circle"></span><span class="pl__title">Jekyll插件开发</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/12/%E4%BB%8B%E7%BB%8Dyii2"><span class="pl__circle"></span><span class="pl__title">yii2介绍</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="php pl__all" href="/php/2014/09/11/php-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86"><span class="pl__circle"></span><span class="pl__title">php加密解密</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/05/ubuntu-use-jekyll"><span class="pl__circle"></span><span class="pl__title">jekyll 使用教程</span><span class="pl__date">Sep 2014</span></a>
        
          <a class="jekyll pl__all" href="/jekyll/2014/09/05/ubuntu-install-jekyll"><span class="pl__circle"></span><span class="pl__title">jekyll 安装教程</span><span class="pl__date">Sep 2014</span></a>
        
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <div id="pjax">
        

<article id="post__content" class="fmt">
  <h1 id="post__title" data-identifier="20141024">SSH原理与运用</h1>
  <h3>一.介绍</h3>

<p>SSH是每一台Linux电脑的标准配置。</p>

<p>随着Linux设备从电脑逐渐扩展到手机、外设和家用电器，SSH的使用范围也越来越广。不仅程序员离不开它，很多普通用户也每天使用。</p>

<p>SSH具备多种功能，可以用于很多场合。有些事情，没有它就是办不成。本文是我的学习笔记，总结和解释了SSH的常见用法，希望对大家有用。</p>

<p>虽然本文内容只涉及初级应用，较为简单，但是需要读者具备最基本的"Shell知识"和了解"公钥加密"的概念。如果你对它们不熟悉，我推荐先阅读<a href="http://www.ee.surrey.ac.uk/Teaching/Unix/">《UNIX / Linux 初学者教程》</a>和<a href="http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html">《数字签名是什么？》</a>。</p>

<h3>二.什么是SSH</h3>

<p>简单说，SSH是一种网络协议，用于计算机之间的加密登录。</p>

<p>如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，我们就可以认为，这种登录是安全的，即使被中途截获，密码也不会泄露。</p>

<p>最早的时候，互联网通信都是明文通信，一旦被截获，内容就暴露无疑。1995年，芬兰学者Tatu Ylonen设计了SSH协议，将登录信息全部加密，成为互联网安全的一个基本解决方案，迅速在全世界获得推广，目前已经成为Linux系统的标准配置。</p>

<p>需要指出的是，SSH只是一种协议，存在多种实现，既有商业实现，也有开源实现。本文针对的实现是OpenSSH，它是自由软件，应用非常广泛。</p>

<p>此外，本文只讨论SSH在Linux Shell中的用法。如果要在Windows系统中使用SSH，会用到另一种软件PuTTY，这需要另文介绍。</p>

<h3>三.最基本的用法</h3>

<p>SSH主要用于远程登录。假定你要以用户名user，登录远程主机host，只要一条简单命令就可以了。</p>

<p>　　$ ssh user@host</p>

<p>如果本地用户名与远程用户名一致，登录时可以省略用户名。</p>

<p>　　$ ssh host</p>

<p>SSH的默认端口是22，也就是说，你的登录请求会送进远程主机的22端口。使用p参数，可以修改这个端口。</p>

<p>　　$ ssh -p 2222 user@host</p>

<p>上面这条命令表示，ssh直接连接远程主机的2222端口。</p>

<h3>四.中间人攻击</h3>

<p>SSH之所以能够保证安全，原因在于它采用了公钥加密。</p>

<p>整个过程是这样的：（1）远程主机收到用户的登录请求，把自己的公钥发给用户。（2）用户使用这个公钥，将登录密码加密后，发送回来。（3）远程主机用自己的私钥，解密登录密码，如果密码正确，就同意用户登录。</p>

<p>这个过程本身是安全的，但是实施的时候存在一个风险：如果有人截获了登录请求，然后冒充远程主机，将伪造的公钥发给用户，那么用户很难辨别真伪。因为不像https协议，SSH协议的公钥是没有证书中心（CA）公证的，也就是说，都是自己签发的。</p>

<p>可以设想，如果攻击者插在用户与远程主机之间（比如在公共的wifi区域），用伪造的公钥，获取用户的登录密码。再用这个密码登录远程主机，那么SSH的安全机制就荡然无存了。这种风险就是著名的"中间人攻击"（Man-in-the-middle attack）。</p>

<p>SSH协议是如何应对的呢？</p>

<h3>五.口令登录</h3>

<p>如果你是第一次登录对方主机，系统会出现下面的提示：</p>

<p>　　$ssh user@host</p>

<p>　　The authenticity of host 'host (12.18.429.21)' can't be established.</p>

<p>　　RSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.</p>

<p>　　Are you sure you want to continue connecting (yes/no)?</p>

<p>这段话的意思是，无法确认host主机的真实性，只知道它的公钥指纹，问你还想继续连接吗？</p>

<p>所谓"公钥指纹"，是指公钥长度较长（这里采用RSA算法，长达1024位），很难比对，所以对其进行MD5计算，将它变成一个128位的指纹。上例中是98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d，再进行比较，就容易多了。</p>

<p>很自然的一个问题就是，用户怎么知道远程主机的公钥指纹应该是多少？回答是没有好办法，远程主机必须在自己的网站上贴出公钥指纹，以便用户自行核对。</p>

<p>假定经过风险衡量以后，用户决定接受这个远程主机的公钥。</p>

<p>　　Are you sure you want to continue connecting (yes/no)? yes</p>

<p>系统会出现一句提示，表示host主机已经得到认可。</p>

<p>　　Warning: Permanently added 'host,12.18.429.21' (RSA) to the list of known hosts.</p>

<p>然后，会要求输入密码。</p>

<p>　　Password: (enter password)</p>

<p>如果密码正确，就可以登录了。</p>

<p>当远程主机的公钥被接受以后，它就会被保存在文件$HOME/.ssh/known_hosts之中。下次再连接这台主机，系统就会认出它的公钥已经保存在本地了，从而跳过警告部分，直接提示输入密码。</p>

<p>每个SSH用户都有自己的known_hosts文件，此外系统也有一个这样的文件，通常是/etc/ssh/ssh_known_hosts，保存一些对所有用户都可信赖的远程主机的公钥。</p>

<h3>六.公钥登录</h3>

<p>使用密码登录，每次都必须输入密码，非常麻烦。好在SSH还提供了公钥登录，可以省去输入密码的步骤。</p>

<p>所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。</p>

<p>这种方法要求用户必须提供自己的公钥。如果没有现成的，可以直接用ssh-keygen生成一个：</p>

<p>　　$ ssh-keygen</p>

<p>运行上面的命令以后，系统会出现一系列提示，可以一路回车。其中有一个问题是，要不要对私钥设置口令（passphrase），如果担心私钥的安全，这里可以设置一个。</p>

<p>运行结束以后，在$HOME/.ssh/目录下，会新生成两个文件：id_rsa.pub和id_rsa。前者是你的公钥，后者是你的私钥。</p>

<p>这时再输入下面的命令，将公钥传送到远程主机host上面：</p>

<p>　　$ ssh-copy-id user@host</p>

<p>好了，从此你再登录，就不需要输入密码了。</p>

<p>如果还是不行，就打开远程主机的/etc/ssh/sshd_config这个文件，检查下面几行前面"#"注释是否取掉。</p>

<p>　　RSAAuthentication yes
　　PubkeyAuthentication yes
　　AuthorizedKeysFile .ssh/authorized_keys</p>

<p>然后，重启远程主机的ssh服务。</p>

<p>　　// ubuntu系统
　　service ssh restart</p>

<p>　　// debian系统
　　/etc/init.d/ssh restart</p>

<h3>七.authorized_keys文件</h3>

<p>远程主机将用户的公钥，保存在登录后的用户主目录的$HOME/.ssh/authorized_keys文件中。公钥就是一段字符串，只要把它追加在authorized_keys文件的末尾就行了。</p>

<p>这里不使用上面的ssh-copy-id命令，改用下面的命令，解释公钥的保存过程：</p>

<p>　　$ ssh user@host 'mkdir -p .ssh &amp;&amp; cat >> .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub</p>

<p>这条命令由多个语句组成，依次分解开来看：（1）"$ ssh user@host"，表示登录远程主机；（2）单引号中的mkdir .ssh &amp;&amp; cat >> .ssh/authorized_keys，表示登录后在远程shell上执行的命令：（3）"$ mkdir -p .ssh"的作用是，如果用户主目录中的.ssh目录不存在，就创建一个；（4）'cat >> .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub的作用是，将本地的公钥文件~/.ssh/id_rsa.pub，重定向追加到远程文件authorized_keys的末尾。</p>

<p>写入authorized_keys文件后，公钥登录的设置就完成了。</p>

<p><a href="/tool/2014/10/23/ssh%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95">6-7 ssh免密码登录</a></p>

</article> <!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontello" href="https://twitter.com/intent/tweet?url=place_your_url_here/tool/2014/10/24/ssh&text=SSH原理与运用" target="_blank"></a>
  <a id="icon-cc" class="fontello" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>
  <a id="icon-weibo" class="fontello" href="http://v.t.sina.com.cn/share/share.php?url=place_your_url_here/tool/2014/10/24/ssh&title=SSH原理与运用" target="_blank"></a>
</div> <!-- end #post__share -->

<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div> <!-- end #disqus_thread -->


      </div> <!-- end #pjax -->

      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

    <button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button>

    <script src="/assets/themes/p233/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/themes/p233/js/jquery.pjax.js"></script>
    <script src="/assets/themes/p233/js/nprogress.js"></script>
	<!-- 语法高亮 -->
	<!-- <script src="/assets/themes/p233/js/prism.js"></script> -->
	<!-- <script src="/assets/themes/p233/js/jquery-tapir.js"></script> -->
    <script src="/assets/themes/p233/js/script.js"></script>
  </body>
</html>

