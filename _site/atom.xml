<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

   <title>Jekyll</title>
   <link href="/atom.xml" rel="self" type="application/atom+xml"/>
   <link href="" rel="alternate" type="text/html" />
   <updated>2015-04-14T11:41:11+08:00</updated>
   <id></id>
   <author>
     <name>邹帅</name>
     <email>zoushuai518@gmail.com</email>
   </author>

   
   <entry>
     <title>搭建git服务器</title>
     <link href="/tool/2015/03/28/%E6%90%AD%E5%BB%BAgit%E6%9C%8D%E5%8A%A1%E5%99%A8.html"/>
     <updated>2015-03-28T00:59:51+08:00</updated>
     <id>/tool/2015/03/28/搭建git服务器</id>
     <content type="html">&lt;h4&gt;环境CentOS6.6&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装必须的依赖包
&lt;pre&gt;&lt;code&gt;
[root@centos-git-server ~]# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-devel
[root@centos-git-server ~]# yum -y install gcc make
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;编译安装git服务
&lt;pre&gt;&lt;code&gt;
[root@centos-git-server ~]# wget http://git-core.googlecode.com/files/git-1.9.0.tar.gz
[root@centos-git-server ~]# tar zxvf git-1.9.0.tar.gz
[root@centos-git-server ~]# cd git-1.9.0
[root@centos-git-server ~]# make prefix=/usr/local all
[root@centos-git-server ~]# make prefix=/usr/local install  #root用户运行&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&amp;quot;[root@centos-git-server ~]# ./configure
&amp;quot;[root@centos-git-server ~]# make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;安装成功之后查看git版本号:  &lt;/p&gt;

&lt;p&gt;查看版本号：git --version
/usr/local/bin/git --version
ln -s /usr/local/bin/git /usr/bin/git
git version 1.9.0&lt;/p&gt;

&lt;p&gt;到此git服务安装完成  &lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;创建一个git用户，用来运行git服务&lt;br&gt;
&lt;pre&gt;&lt;code&gt;
[root@centos-git-server ~]# adduser git
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建证书登录:&lt;br&gt;
&lt;pre&gt;&lt;code&gt;
zs@zs-work:~$ ssh-keygen -t rsa
zs@zs-work:~$ scp ~/.ssh/id_rsa.pub root@192.168.130.100:~/
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;我们这里使用&lt;a href=&quot;/tool/2014/10/23/ssh%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95.html&quot;&gt;ssh免密码登录&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;初始化Git仓库：&lt;br&gt;
先选定一个目录作为Git仓库，假定是/home/git/vd.git，在/home/git目录下输入命令：
&lt;pre&gt;&lt;code&gt;
[root@centos-git-server ~]# git init --bare vd.git
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Git就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的Git仓库纯粹是为了共享，所以不让用户直接登录到服务器上去改工作区，并且服务器上的Git仓库通常都以.git结尾。然后，把owner改为git:&lt;br&gt;
&lt;pre&gt;&lt;code&gt;
[root@centos-git-server ~]# chown -R git:git vd.git
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;禁用shell登录:&lt;br&gt;
出于安全考虑，第二步创建的git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成。找到类似下面的一行：&lt;br&gt;
&lt;code&gt;git:x:1001:1001:,,,:/home/git:/bin/bash&lt;/code&gt;
改为:&lt;br&gt;
&lt;code&gt;git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell&lt;/code&gt;
这样，git用户可以正常通过ssh使用git，但无法登录shell，因为我们为git用户指定的git-shell每次一登录就自动退出。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;克隆远程仓库:&lt;br&gt;
现在，可以通过git clone命令克隆远程仓库了，在各自的电脑上运行：
&lt;pre&gt;&lt;code&gt;
zs@zs-work:~$ git clone git@192.168.130.100:/home/git/vd.git
Cloning into &amp;#39;sample&amp;#39;...
warning: You appear to have cloned an empty repository.
&lt;/code&gt;&lt;/pre&gt;
剩下的推送就简单了。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;管理公钥&lt;br&gt;
&lt;a href=&quot;https://github.com/res0nat0r/gitosis&quot;&gt;Gitosis&lt;/a&gt;&lt;br&gt;
如果团队很小，把每个人的公钥收集起来放到服务器的&lt;code&gt;/home/git/.ssh/authorized_keys&lt;/code&gt;文件里就是可行的。如果团队有几百号人，就没法这么玩了，这时，可以用Gitosis来管理公钥。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;管理权限&lt;br&gt;
&lt;a href=&quot;https://github.com/sitaramc/gitolite&quot;&gt;Gitolite&lt;/a&gt;&lt;br&gt;
有很多不但视源代码如生命，而且视员工为窃贼的公司，会在版本控制系统里设置一套完善的权限控制，每个人是否有读写权限会精确到每个分支甚至每个目录下。因为Git是为Linux源代码托管而开发的，所以Git也继承了开源社区的精神，不支持权限控制。不过，因为Git支持钩子（hook），所以，可以在服务器端编写一系列脚本来控制提交等操作，达到权限控制的目的。Gitolite就是这个工具。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;zs注: git服务认证方式可以是 https/ssh等--&lt;/p&gt;

&lt;p&gt;客户端初始、增加及使用项目git-test:&lt;br&gt;
&lt;pre&gt;&lt;code&gt;
zs@zs-work:~$ cd /git-repo
zs@zs-work:~$ mkdir git-test
zs@zs-work:~$ cd git-test
zs@zs-work:~$ git init
zs@zs-work:~$ touch README
zs@zs-work:~$ git add .
zs@zs-work:~$ git commit -a -m &amp;quot;init git-test&amp;quot;
zs@zs-work:~$ git remote add origin git@192.168.56.1:git-test.git
&amp;quot;zs@zs-work:~$ git remote add origin git@192.168.130.100:git-vd.git
zs@zs-work:~$ git push origin master
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;注解：在新项目git-test里首次推送数据到服务器前，需先设定该服务器地址为远程仓库，但你不用事先到服务器上手工创建该项目的裸仓库— Gitosis 会在第一次遇到推送时自动创建。&lt;/p&gt;

&lt;p&gt;客户端安装git客户端:&lt;br&gt;
&lt;pre&gt;&lt;code&gt;
zs@zs-weimob:~$ sudo apt-get install git
&amp;quot;zs@zs-weimob:~$ yum install git
zs@zs-weimob:~$ git --version
git version 1.7.1
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;

&lt;h4&gt;ext&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;[gitosis ??]&lt;/li&gt;
&lt;li&gt;&lt;p&gt;[gitolite ??]&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137583770360579bc4b458f044ce7afed3df579123eca000&quot;&gt;搭建Git服务器&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.centoscn.com/CentosServer/ftp/2014/0414/2789.html&quot;&gt;CentOS 6.5下Git服务器搭建&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>MySQL读写分离</title>
     <link href="/mysql/2015/03/27/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"/>
     <updated>2015-03-27T00:16:51+08:00</updated>
     <id>/mysql/2015/03/27/MySQL读写分离</id>
     <content type="html">&lt;ul&gt;
&lt;li&gt;MySQL读写分离&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>MySQL EXPLAIN</title>
     <link href="/mysql/2015/03/27/MySQL_EXPLAIN.html"/>
     <updated>2015-03-27T00:16:51+08:00</updated>
     <id>/mysql/2015/03/27/MySQL_EXPLAIN</id>
     <content type="html">&lt;ul&gt;
&lt;li&gt;MySQL EXPLAIN&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>mysql事务处理和锁机制</title>
     <link href="/mysql/2015/03/14/mysql%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E5%92%8C%E9%94%81%E6%9C%BA%E5%88%B6.html"/>
     <updated>2015-03-14T01:16:51+08:00</updated>
     <id>/mysql/2015/03/14/mysql事务处理和锁机制</id>
     <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/forever_feng/article/details/4368003&quot;&gt;mysql事务处理和锁机制&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.51testing.com/html/27/n-243727.html&quot;&gt;MySQL死锁问题实例分析及解决方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_575b0ca50100vmsn.html&quot;&gt;一个MySQL死锁问题的解决&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>MySQL联合索引</title>
     <link href="/mysql/2015/03/12/MySQL%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95.html"/>
     <updated>2015-03-12T18:16:51+08:00</updated>
     <id>/mysql/2015/03/12/MySQL联合索引</id>
     <content type="html">&lt;p&gt;MySQL联合索引 | 复合索引&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.php100.com/html/webkaifa/database/Mysql/2012/0112/9658.html&quot;&gt;MySQL:联合索引与Where子句的优化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://itlab.idcquan.com/linux/MYSQL/925211.html&quot;&gt;mysql联合索引详解&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.shangxueba.com/jingyan/1614732.html&quot;&gt;mysql 创建联合索引&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.chinaunix.net/uid-7692530-id-2567605.html&quot;&gt;复合索引和多个单列索引的效率比较 | mysql复合索引效率&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>MySQL索引</title>
     <link href="/mysql/2015/03/12/MySQL%E7%B4%A2%E5%BC%95.html"/>
     <updated>2015-03-12T18:16:51+08:00</updated>
     <id>/mysql/2015/03/12/MySQL索引</id>
     <content type="html">&lt;p&gt;MySQL索引&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.php100.com/html/webkaifa/database/Mysql/2010/0409/4279.html&quot;&gt;MySQL索引类型一览 让MySQL高效运行起来&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jb51.net/article/29572.htm&quot;&gt;MySQL索引背后的之使用策略及优化(高性能索引策略)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>PHP连接池</title>
     <link href="/php/2015/03/12/php%E8%BF%9E%E6%8E%A5%E6%B1%A0.html"/>
     <updated>2015-03-12T00:35:51+08:00</updated>
     <id>/php/2015/03/12/php连接池</id>
     <content type="html">&lt;p&gt;PHP连接池&lt;/p&gt;
</content>
   </entry>
   
   <entry>
     <title>mysql原子操作</title>
     <link href="/mysql/2015/03/04/mysql%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C.html"/>
     <updated>2015-03-04T00:46:51+08:00</updated>
     <id>/mysql/2015/03/04/mysql原子操作</id>
     <content type="html">&lt;h4&gt;mysql原子操作&lt;/h4&gt;
</content>
   </entry>
   
   <entry>
     <title>web压力测试工具</title>
     <link href="/php/2015/03/04/web_Pressure_Test.html"/>
     <updated>2015-03-04T00:20:51+08:00</updated>
     <id>/php/2015/03/04/web_Pressure_Test</id>
     <content type="html">&lt;h4&gt;web压力测试工具&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zoushuai518/php/blob/master/PhpExt/web_Pressure_Test.md&quot;&gt;web压力测试工具&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
   </entry>
   
   <entry>
     <title>mysql 性能测试工具</title>
     <link href="/mysql/2015/03/04/mysql%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7.html"/>
     <updated>2015-03-04T00:16:51+08:00</updated>
     <id>/mysql/2015/03/04/mysql性能测试工具</id>
     <content type="html">&lt;h4&gt;mysql 性能测试工具&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;The MySQL Benchmark Suite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jeremy.zawodny.com/mysql/super-smack/&quot;&gt;MySQL super-smack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jeremy.zawodny.com/mysql/mybench/&quot;&gt;MyBench&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/mysqlslap.html&quot;&gt;MySQL mysqlslap help&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ha97.com/5182.html&quot;&gt;MySQL自带的性能压力测试工具mysqlslap详解&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;mysqlslap -a -c 500 -i 10 -uroot -p123465&lt;/p&gt;
</content>
   </entry>
   

</feed>
